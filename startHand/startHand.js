// var startHands = ['AA', 'KK', 'QQ', 'JJ', 'TT', '99', '88', '77', '66', '55', '44', '33', '22', 'AKs', 'AQs', 'AJs', 'ATs', 'A9s', 'A8s', 'A7s', 'A6s', 'A5s', 'A4s', 'A3s', 'A2s', 'AKo', 'AQo', 'AJo', 'ATo', 'A9o', 'A8o', 'A7o', 'A6o', 'A5o', 'A4o', 'A3o', 'A2o', 'KQs', 'KJs', 'KTs', 'K9s', 'K8s', 'K7s', 'K6s', 'K5s', 'K4s', 'K3s', 'K2s', 'KQo', 'KJo', 'KTo', 'K9o', 'K8o', 'K7o', 'K6o', 'K5o', 'K4o', 'K3o', 'K2o', 'QJs', 'QTs', 'Q9s', 'Q8s', 'Q7s', 'Q6s', 'Q5s', 'Q4s', 'Q3s', 'Q2s', 'QJo', 'QTo', 'Q9o', 'Q8o', 'Q7o', 'Q6o', 'Q5o', 'Q4o', 'Q3o', 'Q2o', 'JTs', 'J9s', 'J8s', 'J7s', 'J6s', 'J5s', 'J4s', 'J3s', 'J2s', 'JTo', 'J9o', 'J8o', 'J7o', 'J6o', 'J5o', 'J4o', 'J3o', 'J2o', 'T9s', 'T8s', 'T7s', 'T6s', 'T5s', 'T4s', 'T3s', 'T2s', 'T9o', 'T8o', 'T7o', 'T6o', 'T5o', 'T4o', 'T3o', 'T2o', '98s', '97s', '96s', '95s', '94s', '93s', '92s', '98o', '97o', '96o', '95o', '94o', '93o', '92o', '87s', '86s', '85s', '84s', '83s', '82s', '87o', '86o', '85o', '84o', '83o', '82o', '76s', '75s', '74s', '73s', '72s', '76o', '75o', '74o', '73o', '72o', '65s', '64s', '63s', '62s', '65o', '64o', '63o', '62o', '54s', '53s', '52s', '54o', '53o', '52o', '43s', '42s', '43o', '42o', '32s', '32o'];
// var ranking = [0, 1, 2, 3, 13, 4, 25, 14, 5, 26, 15, 6, 27, 16, 7, 28, 8, 17, 9, 29, 18, 10, 19, 37, 30, 11, 20, 38, 21, 31, 48, 12, 22, 23, 39, 24, 32, 49, 33, 59, 79, 60, 34, 97, 35, 50, 40, 113, 80, 98, 127, 36, 61, 69, 139, 81, 114, 88, 41, 128, 62, 99, 42, 149, 70, 43, 82, 115, 140, 105, 44, 157, 63, 100, 64, 51, 129, 120, 45, 89, 150, 133, 106, 65, 83, 71, 46, 84, 116, 141, 66, 144, 90, 158, 121, 101, 85, 47, 130, 134, 52, 67, 102, 107, 72, 53, 151, 153, 163, 86, 54, 103, 68, 117, 142, 91, 122, 145, 87, 159, 118, 160, 55, 104, 108, 73, 131, 74, 135, 132, 119, 152, 164, 56, 154, 75, 92, 143, 123, 93, 167, 57, 146, 76, 161, 109, 136, 94, 58, 110, 77, 155, 165, 95, 111, 78, 124, 147, 162, 125, 96, 112, 137, 138, 166, 156, 126, 148, 168];
// var count = 0;
// ranking.forEach(function (item) {
//   var hand = startHands[item];
//   if (hand[0] === hand[1]) {
//     count = count + 6;
//   } else {
//     if (hand[2] === 's') {
//       count = count + 4;
//     } else {
//       count = count + 12;
//     }
//   }
//   rangs[startHands[item]] = count/1326*100;
// });

var rangs = {
  '22': 16.440422322775262,
  '33': 13.273001508295627,
  '44': 11.312217194570136,
  '55': 9.653092006033184,
  '66': 8.89894419306184,
  '77': 7.541478129713424,
  '88': 5.88235294117647,
  '99': 4.223227752639517,
  AA: 0.4524886877828055,
  'KK': 0.904977375565611,
  QQ: 1.3574660633484164,
  JJ: 1.809954751131222,
  AKs: 2.1116138763197587,
  TT: 2.564102564102564,
  AKo: 3.469079939668175,
  AQs: 3.770739064856712,
  AQo: 5.128205128205128,
  AJs: 5.429864253393665,
  AJo: 6.787330316742081,
  ATs: 7.088989441930618,
  ATo: 8.446455505279035,
  A9s: 9.200603318250378,
  A9o: 10.558069381598793,
  A8s: 10.85972850678733,
  A7s: 11.613876319758672,
  KQs: 11.91553544494721,
  A8o: 12.82051282051282,
  A6s: 13.574660633484163,
  KJs: 13.8763197586727,
  A5s: 14.177978883861236,
  A7o: 15.082956259426847,
  KQo: 15.987933634992457,
  A4s: 16.7420814479638,
  A3s: 17.043740573152338,
  KTs: 17.345399698340874,
  A2s: 17.647058823529413,
  A6o: 18.552036199095024,
  KJo: 19.457013574660635,
  A5o: 20.361990950226243,
  QJs: 20.66365007541478,
  JTs: 20.96530920060332,
  QTs: 21.266968325791854,
  A4o: 22.171945701357465,
  T9s: 22.473604826546005,
  A3o: 23.378582202111613,
  KTo: 24.283559577677224,
  K9s: 24.58521870286576,
  '98s': 24.8868778280543,
  J9s: 25.188536953242835,
  T8s: 25.49019607843137,
  '87s': 25.791855203619914,
  A2o: 26.69683257918552,
  Q9s: 26.998491704374057,
  QJo: 27.90346907993967,
  '76s': 28.205128205128204,
  J8s: 28.50678733031674,
  '97s': 28.808446455505276,
  JTo: 29.71342383107089,
  K8s: 30.015082956259427,
  '86s': 30.316742081447963,
  Q8s: 30.618401206636502,
  T7s: 30.920060331825038,
  K7s: 31.221719457013574,
  '65s': 31.52337858220211,
  QTo: 32.42835595776772,
  K6s: 32.73001508295626,
  J7s: 33.03167420814479,
  '96s': 33.33333333333333,
  '75s': 33.63499245852187,
  T9o: 34.53996983408748,
  K5s: 34.841628959276015,
  '54s': 35.14328808446455,
  Q7s: 35.444947209653094,
  T6s: 35.74660633484163,
  Q6s: 36.048265460030166,
  K9o: 36.95324283559578,
  '85s': 37.254901960784316,
  '98o': 38.159879336349924,
  K4s: 38.46153846153847,
  J9o: 39.366515837104075,
  '64s': 39.66817496229261,
  '87o': 40.57315233785822,
  T8o: 41.47812971342383,
  Q5s: 41.77978883861237,
  J6s: 42.081447963800905,
  Q9o: 42.98642533936652,
  K3s: 43.288084464555055,
  J5s: 43.58974358974359,
  '95s': 43.89140271493213,
  '74s': 44.19306184012066,
  Q4s: 44.4947209653092,
  '76o': 45.399698340874814,
  J8o: 46.30467571644042,
  '53s': 46.60633484162896,
  '97o': 47.511312217194565,
  T5s: 47.81297134238311,
  J4s: 48.114630467571644,
  K2s: 48.41628959276018,
  '84s': 48.717948717948715,
  '86o': 49.62292609351433,
  K8o: 50.52790346907994,
  Q3s: 50.829562594268474,
  T4s: 51.13122171945701,
  T7o: 52.03619909502263,
  Q8o: 52.94117647058824,
  K7o: 53.84615384615385,
  '63s': 54.14781297134238,
  '65o': 55.052790346908,
  '43s': 55.35444947209653,
  J3s: 55.65610859728507,
  K6o: 56.56108597285068,
  T3s: 56.86274509803921,
  Q2s: 57.16440422322775,
  '94s': 57.466063348416284,
  '73s': 57.76772247360482,
  J7o: 58.67269984917044,
  '96o': 59.57767722473605,
  '75o': 60.48265460030166,
  J2s: 60.78431372549019,
  '52s': 61.085972850678736,
  '93s': 61.38763197586727,
  '54o': 62.29260935143288,
  K5o: 63.19758672699849,
  T2s: 63.49924585218702,
  T6o: 64.40422322775264,
  Q7o: 65.30920060331825,
  '83s': 65.61085972850678,
  Q6o: 66.51583710407239,
  '85o': 67.42081447963801,
  '82s': 67.72247360482655,
  '92s': 68.02413273001508,
  '62s': 68.32579185520362,
  '42s': 68.62745098039215,
  K4o: 69.53242835595776,
  '64o': 70.43740573152338,
  Q5o: 71.34238310708899,
  J6o: 72.2473604826546,
  '72s': 72.54901960784314,
  '95o': 73.45399698340876,
  J5o: 74.35897435897436,
  '32s': 74.6606334841629,
  K3o: 75.56561085972851,
  '74o': 76.47058823529412,
  Q4o: 77.37556561085974,
  '53o': 78.28054298642535,
  T5o: 79.18552036199095,
  '84o': 80.09049773755656,
  J4o: 80.99547511312217,
  K2o: 81.90045248868778,
  T4o: 82.80542986425338,
  Q3o: 83.710407239819,
  '63o': 84.61538461538461,
  '43o': 85.52036199095022,
  J3o: 86.42533936651584,
  T3o: 87.33031674208145,
  Q2o: 88.23529411764706,
  '94o': 89.14027149321268,
  '73o': 90.04524886877829,
  '52o': 90.9502262443439,
  '93o': 91.8552036199095,
  J2o: 92.76018099547511,
  T2o: 93.66515837104072,
  '83o': 94.57013574660633,
  '82o': 95.47511312217195,
  '42o': 96.38009049773756,
  '62o': 97.28506787330316,
  '92o': 98.19004524886877,
  '72o': 99.09502262443439,
  '32o': 100
};

var cardOrder = ['A', 'K', 'Q', 'J', 'T', '9', '8', '7', '6', '5', '4', '3', '2'];

function getRank(hole_cards) {
  var hand;
  var type;
  if (hole_cards[0].rank === '10') {
    hole_cards[0].rank = 'T';
  }
  if (hole_cards[1].rank === '10') {
    hole_cards[1].rank = 'T';
  }

  if (hole_cards[0].suit == hole_cards[1].suit) {
    type = 's';
  } else {
    type = 'o'
  }


  if (cardOrder.indexOf(hole_cards[0].rank) < cardOrder.indexOf(hole_cards[1].rank)) {
    hand = hole_cards[0].rank + hole_cards[1].rank + type;
  }

  if (cardOrder.indexOf(hole_cards[0].rank) > cardOrder.indexOf(hole_cards[1].rank)) {
    hand = hole_cards[1].rank + hole_cards[0].rank + type;
  }

  if (cardOrder.indexOf(hole_cards[0].rank) === cardOrder.indexOf(hole_cards[1].rank)) {
    hand = hole_cards[0].rank + hole_cards[1].rank;
  }
  return rangs[hand]/100;
}

module.exports = getRank;
